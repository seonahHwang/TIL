# 1.2 SQL 공유 및 재사용

## 1.2.1 소프트 파싱 vs 하드 파싱

라이브러리 캐시 

: 내부 프로시저를 반복 재사용할 수 있도록 캐싱해 두는 메모리 공간

 SGA 구성요소 

SGA

: 서버 프로세스와 백그라운드 프로세스가 공통으로 액세스하는 데이터와 제어 구조를 캐싱하는 메모리 공간 

옵티마이저가 최적화 하는 과정에 사용하는 정보

- 테이블, 컬럼, 인덱스 구조에 관한 기본 정보
- 오브젝트 통계 : 테이블 통계, 인덱스 통계, 컬럼 통계
- 시스템 통계 : CPU 속도, Single Block I/O 속도, Multiblock I/O 속도 등
- 옵티마이저 관련 파라미터

# 1.3 데이터 저장 구조 및  I/O 메커니즘

## 1.3.1 SQL이 느린 이유

디스크 I/O 때문

I/O 란? 잠

⇒ OS 또는 I/O 서브시스템이 I/O를 처리하는 동안 프로세스는 잠을 자기 때문 

## 1.3.2 데이터베이스 저장 구조

데이터를 저장하려면 먼저 테이블 스페이스를 생성해야한다 

세그먼트 : 테이블, 인덱스처럼 데이터 저장공간이 필요한 오브젝트 

테이블, 인덱스를 생성할 때 데이터를 어떤 테이블스페이스에 저장할지를 지정한다 

여러 익스텐트로 구성된다

익스텐트 : 하나의 세그먼트에 할당 된 공간

연속된 블록들의 집합

테이블이나 인덱스에 데이터를 입력하다가 공간이 부족해지면 해당 오브젝트가 속한 테이블스페이스로 부터

익스텐트를 추가로 할당받는다 

익스텐트 단위로 공간을 확장한다

블록 : 사용자가 입력한 레코드를 실제로 저장하는 공간 

-한 익스텐트에 담긴 블록은 모두 같은 테이블 블록이다 

-세그먼트에 할당된 모든 익스텐트가 같은 데이터파일에 위치할 가능성이 적다 

-익스텐트 내 블록은 서로 인접한 연속된 공간이지만, 익스텐트끼리는 연속된 공간이 아님 

파티셔닝 기법 : 

table 을 파티션이라는 작은 단위로 나눠 관리하는 기법

## 정리

블록 : 데이터를 읽고 쓰는 단위

익스텐트 : 공간을 확장하는 단위, 연속된 블록 집합

세그먼트 : 데이터 저장공간이 필요한 오브젝트(테이블,인덱스,파티션,LOB 등)

테이블스페이스 : 세그먼트를 담는 콘테이너

데이터파일 : 디스크 상의 물리적인 OS파일 

## 1.3.3 블록 단위 I/O

블록이 바로 DBMS가 데이터를 읽고 쓰는 단위 

특정 레코드를 하나를 읽고싶어도 해당 블록을 통째로 읽는다